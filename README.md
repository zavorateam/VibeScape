# VibeScape

Интерактивный аудио-визуализатор с поддержкой локальных файлов, потоковых аудио-источников и динамической графики. Приложение работает как веб-интерфейс и как десктоп-версия (Electron) с доступом к геолокации устройства и улучшенным GPU-рендерингом.

## Возможности

* загрузка локальных аудиофайлов (MP3 и другие audio/*);
* воспроизведение интернет-радио по URL;
* переключаемые визуальные режимы;
* скрытие/отображение UI;
* определение геолокации для улучшения bg эффектов;
* работа в браузере и как standalone-desktop-приложение;

## Стек

* **HTML + TailwindCSS** — UI;
* **Canvas 2D** — визуализация;
* **JavaScript Audio API** — анализ звука;
* **Electron 30+** — десктоп-оболочка;
* **Node.js 20+** — сборка.

## Интерфейс

UI состоит из:

* верхнего блока (гео-информация, жанр/режим);
* кнопки скрытия интерфейса;
* переключения режима визуализации;
* панели управления плеером:

  * play/pause;
  * загрузка локального файла;
  * ввод URL-потока и запуск радио;

При скрытии интерфейса появляется подсказка "Нажмите любую клавишу".

Основной визуальный рендер идёт в два canvas-слоя:

* `bg-canvas` — фоновая динамика;
* `main-canvas` — основной визуализатор.

## Запуск в браузере

Можно открыть прямо из файловой системы:

```
index.html
```

Но некоторые функции (геолокация, работа с файлами) могут потребовать HTTPS или Electron.

## Запуск в режиме разработки (Electron)

Установить зависимости:

```bash
npm install
```

Запуск dev-версии:

```bash
npm start
```

## Сборка приложения

Требуется установленный `electron-builder`.

### Windows (.exe)

```bash
npm run build:win
```

В `dist/` появится:

```
VibeScape Setup.exe
или портативная сборка .exe
```

### Linux (.AppImage)

```bash
npm run build:linux
```

В `dist/` будет:

```
VibeScape-x86_64.AppImage
```

## Конфигурация сборки

В `package.json` должна быть секция:

```json
"build": {
  "appId": "com.vibescape.app",
  "productName": "VibeScape",
  "directories": { "buildResources": "build" },
  "files": [
    "index.html",
    "index.js",
    "visualiser.js",
    "main.js",
    "preload.js",
    "icon.png",
    "package.json"
  ],
  "linux": {
    "target": "AppImage",
    "category": "AudioVideo"
  },
  "win": {
    "target": "nsis"
  }
}
```

## Разрешения

Electron автоматически запрашивает доступ к геолокации.
Разрешение должно быть подтверждено пользователем при первом запуске.

В браузере необходимо HTTPS-окружение или запуск через `localhost`.

## Требования системы

* **Windows 10/11**, **Linux x86_64**
* GPU с поддержкой аппаратного ускорения Canvas/WebGL
* Node.js **20+**
* npm **8+**
